# 브라우저에서 S3로 파일 업로드하기

<br>

이미지, 비디오, 음악과 같은 정적 콘텐츠를 업로드 할 때, 클라이언트에서 서버를 통해 AWS S3에 업로드 하는 것은 서버 성능에 좋지 않을것 같다는 생각이 들었습니다. 그래서 서버를 통해 파일을 업로드를 하지 말고, 클라이언트에서 직접 AWS S3에 업로드 하는 것이 서버 성능에 도움이 될 것 같다는 생각을 했습니다.

<br>

### :book: Amazon Cognito

브라우저에서는 AWS 서비스를 이용하려면 어떠한 인증 및 권한을 받아야 합니다. 그리고`Amazon Cognito`는 웹이나 모바일 앱에 대한 인증, 권한 부여 및 사용자 관리를 제공하는 서비스입니다. `Amazon Cognito`의 두 가지 주요 구성 요소는 **사용자 풀**과 **자격 증명 풀**입니다. 그리고 **사용자 풀**과 **자격 증명 풀**을 별도로 사용하거나 함께 사용할 수 있습니다.

* **`사용자 풀`**

    * 앱 사용자의 가입 및 로그인 옵션을 제공합니다.

* **`자격 증명 풀`**

    * 기타 AWS 서비스에 대한 사용자 액세스 권한을 부여할 수 있습니다.

<br>

### :book: Cognito 자격 증명 풀을 사용하기(연동 자격 증명)

`1. 자격 증명 풀 만들기`

![image](https://user-images.githubusercontent.com/23515771/65931617-721eac80-e445-11e9-8fec-3e1ec193dbb4.png)

1. 자격 증명 풀 이름을 작성합니다.

2. 인증되지 않은 자격 증명에 대한 접근을 가능하게 하고 싶다면, `인증되지 않은 자격 증명에 대한 엑세스 활성화`를 체크합니다.

3. 인증 공급자를 추가하고 싶다면, 사용자 풀에서 생성한 사용자 풀 ID, 앱 클라이언트 ID를 추가하여 공급자를 추가합니다.

`2. 권한 설정`

![image](https://user-images.githubusercontent.com/23515771/65931780-10127700-e446-11e9-9b67-236a1f2e501e.png)

세부 정보를 클릭해서 확인하면, `인증된 사용자의 역할`과 `인증 되지 않은 사용자의 역할`을 확인할 수 있습니다.

`인증되지 않은 자격 증명`

* 지원되는 자격 증명 공급자가 인증한 사용자를 위한 것이다.

`인증된 자격 증명`

* 게스트 사용자를 위한 것이다.

<br>

### :bookmark: 참고

* [AWS Cognito](https://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/what-is-amazon-cognito.html) 